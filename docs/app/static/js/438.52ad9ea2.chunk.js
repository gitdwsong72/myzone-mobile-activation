"use strict";(self.webpackChunkmyzone_frontend=self.webpackChunkmyzone_frontend||[]).push([[438],{1438:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var l=a(2555),n=a(9950),i=a(2569),d=a(2918),t=a(2159),r=a(5341),c=a(8073),o=a(4414);const m=()=>{(0,i.wA)();const{showSuccess:e,showError:s}=(0,c.d)(),[a,m]=(0,n.useState)([]),[h,u]=(0,n.useState)(!0),[x,j]=(0,n.useState)(null),[v,p]=(0,n.useState)(!1),[N,_]=(0,n.useState)(!1),[b,g]=(0,n.useState)(""),[y,f]=(0,n.useState)(""),[C,k]=(0,n.useState)({status:"",dateFrom:"",dateTo:"",search:""}),[w,A]=(0,n.useState)(1),[S,T]=(0,n.useState)(1),[O]=(0,n.useState)(20);(0,n.useEffect)(()=>{E()},[w,C]);const E=async()=>{u(!0);try{const e=[{id:1,order_number:"ORD-2024-001",user_name:"\ud64d\uae38\ub3d9",user_phone:"010-1234-5678",plan_name:"5G \ud504\ub9ac\ubbf8\uc5c4",device_model:"iPhone 15 Pro",number:"010-9999-1234",status:"pending",total_amount:12e5,created_at:"2024-01-15T10:30:00Z",updated_at:"2024-01-15T10:30:00Z"},{id:2,order_number:"ORD-2024-002",user_name:"\uae40\uc601\ud76c",user_phone:"010-2345-6789",plan_name:"LTE \ubca0\uc774\uc9c1",device_model:"Galaxy S24",number:"010-8888-5678",status:"processing",total_amount:8e5,created_at:"2024-01-15T11:15:00Z",updated_at:"2024-01-15T14:20:00Z"},{id:3,order_number:"ORD-2024-003",user_name:"\ubc15\ubbfc\uc218",user_phone:"010-3456-7890",plan_name:"5G \uc2a4\ud0e0\ub2e4\ub4dc",device_model:"iPhone 15",number:"010-7777-9012",status:"completed",total_amount:95e4,created_at:"2024-01-14T16:45:00Z",updated_at:"2024-01-15T09:30:00Z"}];m(e),T(Math.ceil(e.length/O))}catch(e){s("\uc8fc\ubb38 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{u(!1)}},Z=async e=>{await(async e=>{try{j({id:e,order_number:"ORD-2024-001",user_name:"\ud64d\uae38\ub3d9",user_phone:"010-1234-5678",user_email:"hong@example.com",user_address:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123",plan_name:"5G \ud504\ub9ac\ubbf8\uc5c4",device_model:"iPhone 15 Pro",number:"010-9999-1234",status:"pending",total_amount:12e5,delivery_address:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123",payment_method:"\uc2e0\uc6a9\uce74\ub4dc",payment_status:"\uacb0\uc81c\uc644\ub8cc",notes:"",created_at:"2024-01-15T10:30:00Z",updated_at:"2024-01-15T10:30:00Z",status_history:[{status:"pending",note:"\uc8fc\ubb38\uc774 \uc811\uc218\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",admin_name:"\uc2dc\uc2a4\ud15c",created_at:"2024-01-15T10:30:00Z"}]})}catch(a){s("\uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}})(e.id),p(!0)},z=e=>{const s={pending:{label:"\uc811\uc218\ub300\uae30",className:"status-pending"},processing:{label:"\ucc98\ub9ac\uc911",className:"status-processing"},completed:{label:"\uc644\ub8cc",className:"status-completed"},cancelled:{label:"\ucde8\uc18c",className:"status-cancelled"}},a=s[e]||s.pending;return(0,o.jsx)("span",{className:"status-badge ".concat(a.className),children:a.label})},P=e=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e),R=e=>new Date(e).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),D=(e,s)=>{k(a=>(0,l.A)((0,l.A)({},a),{},{[e]:s})),A(1)};return(0,o.jsxs)("div",{className:"admin-orders",children:[(0,o.jsxs)("div",{className:"admin-orders__header",children:[(0,o.jsx)("h1",{children:"\uc8fc\ubb38 \uad00\ub9ac"}),(0,o.jsx)("p",{children:"\uace0\uac1d\uc758 \uac1c\ud1b5 \uc2e0\uccad\uc744 \uad00\ub9ac\ud558\uace0 \ucc98\ub9ac\ud558\uc138\uc694"})]}),(0,o.jsx)("div",{className:"admin-orders__filters",children:(0,o.jsxs)("div",{className:"filters-row",children:[(0,o.jsxs)("div",{className:"filter-group",children:[(0,o.jsx)("label",{children:"\uc0c1\ud0dc"}),(0,o.jsxs)("select",{value:C.status,onChange:e=>D("status",e.target.value),children:[(0,o.jsx)("option",{value:"",children:"\uc804\uccb4"}),(0,o.jsx)("option",{value:"pending",children:"\uc811\uc218\ub300\uae30"}),(0,o.jsx)("option",{value:"processing",children:"\ucc98\ub9ac\uc911"}),(0,o.jsx)("option",{value:"completed",children:"\uc644\ub8cc"}),(0,o.jsx)("option",{value:"cancelled",children:"\ucde8\uc18c"})]})]}),(0,o.jsxs)("div",{className:"filter-group",children:[(0,o.jsx)("label",{children:"\uc2dc\uc791\uc77c"}),(0,o.jsx)("input",{type:"date",value:C.dateFrom,onChange:e=>D("dateFrom",e.target.value)})]}),(0,o.jsxs)("div",{className:"filter-group",children:[(0,o.jsx)("label",{children:"\uc885\ub8cc\uc77c"}),(0,o.jsx)("input",{type:"date",value:C.dateTo,onChange:e=>D("dateTo",e.target.value)})]}),(0,o.jsxs)("div",{className:"filter-group",children:[(0,o.jsx)("label",{children:"\uac80\uc0c9"}),(0,o.jsx)("input",{type:"text",placeholder:"\uc8fc\ubb38\ubc88\ud638, \uace0\uac1d\uba85, \uc804\ud654\ubc88\ud638",value:C.search,onChange:e=>D("search",e.target.value)})]}),(0,o.jsx)("div",{className:"filter-actions",children:(0,o.jsx)(d.A,{variant:"outline",onClick:()=>{k({status:"",dateFrom:"",dateTo:"",search:""}),A(1)},children:"\ucd08\uae30\ud654"})})]})}),(0,o.jsx)("div",{className:"admin-orders__content",children:h?(0,o.jsxs)("div",{className:"loading-container",children:[(0,o.jsx)(r.Ay,{size:"large"}),(0,o.jsx)("p",{children:"\uc8fc\ubb38 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"orders-table-container",children:(0,o.jsxs)("table",{className:"orders-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\uc8fc\ubb38\ubc88\ud638"}),(0,o.jsx)("th",{children:"\uace0\uac1d\uc815\ubcf4"}),(0,o.jsx)("th",{children:"\uc0c1\ud488\uc815\ubcf4"}),(0,o.jsx)("th",{children:"\uae08\uc561"}),(0,o.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,o.jsx)("th",{children:"\uc2e0\uccad\uc77c\uc2dc"}),(0,o.jsx)("th",{children:"\uc791\uc5c5"})]})}),(0,o.jsx)("tbody",{children:a.map(e=>(0,o.jsxs)("tr",{className:"order-row",children:[(0,o.jsx)("td",{children:(0,o.jsx)("button",{className:"order-number-link",onClick:()=>Z(e),children:e.order_number})}),(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"customer-info",children:[(0,o.jsx)("div",{className:"customer-name",children:e.user_name}),(0,o.jsx)("div",{className:"customer-phone",children:e.user_phone})]})}),(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"product-info",children:[(0,o.jsx)("div",{className:"plan-name",children:e.plan_name}),(0,o.jsx)("div",{className:"device-model",children:e.device_model}),(0,o.jsx)("div",{className:"phone-number",children:e.number})]})}),(0,o.jsx)("td",{className:"amount",children:P(e.total_amount)}),(0,o.jsx)("td",{children:z(e.status)}),(0,o.jsx)("td",{className:"date",children:R(e.created_at)}),(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"action-buttons",children:[(0,o.jsx)(d.A,{size:"small",variant:"outline",onClick:()=>Z(e),children:"\uc0c1\uc138"}),(0,o.jsx)(d.A,{size:"small",variant:"primary",onClick:()=>(e=>{j(e),g(e.status),f(""),_(!0)})(e),children:"\uc0c1\ud0dc\ubcc0\uacbd"})]})})]},e.id))})]})}),(0,o.jsxs)("div",{className:"pagination",children:[(0,o.jsx)(d.A,{variant:"outline",disabled:1===w,onClick:()=>A(e=>e-1),children:"\uc774\uc804"}),(0,o.jsxs)("span",{className:"page-info",children:[w," / ",S]}),(0,o.jsx)(d.A,{variant:"outline",disabled:w===S,onClick:()=>A(e=>e+1),children:"\ub2e4\uc74c"})]})]})}),(0,o.jsx)(t.A,{isOpen:v,onClose:()=>p(!1),title:"\uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4",size:"large",children:x&&(0,o.jsx)("div",{className:"order-detail",children:(0,o.jsx)("div",{className:"order-detail__tabs",children:(0,o.jsxs)("div",{className:"tab-content",children:[(0,o.jsxs)("div",{className:"detail-section",children:[(0,o.jsx)("h3",{children:"\uae30\ubcf8 \uc815\ubcf4"}),(0,o.jsxs)("div",{className:"detail-grid",children:[(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc8fc\ubb38\ubc88\ud638"}),(0,o.jsx)("span",{children:x.order_number})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc0c1\ud0dc"}),z(x.status)]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc2e0\uccad\uc77c\uc2dc"}),(0,o.jsx)("span",{children:R(x.created_at)})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\ucd5c\uc885\uc218\uc815"}),(0,o.jsx)("span",{children:R(x.updated_at)})]})]})]}),(0,o.jsxs)("div",{className:"detail-section",children:[(0,o.jsx)("h3",{children:"\uace0\uac1d \uc815\ubcf4"}),(0,o.jsxs)("div",{className:"detail-grid",children:[(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc774\ub984"}),(0,o.jsx)("span",{children:x.user_name})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc804\ud654\ubc88\ud638"}),(0,o.jsx)("span",{children:x.user_phone})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc774\uba54\uc77c"}),(0,o.jsx)("span",{children:x.user_email})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc8fc\uc18c"}),(0,o.jsx)("span",{children:x.user_address})]})]})]}),(0,o.jsxs)("div",{className:"detail-section",children:[(0,o.jsx)("h3",{children:"\uc0c1\ud488 \uc815\ubcf4"}),(0,o.jsxs)("div",{className:"detail-grid",children:[(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc694\uae08\uc81c"}),(0,o.jsx)("span",{children:x.plan_name})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\ub2e8\ub9d0\uae30"}),(0,o.jsx)("span",{children:x.device_model})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\uc804\ud654\ubc88\ud638"}),(0,o.jsx)("span",{children:x.number})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsx)("label",{children:"\ucd1d \uae08\uc561"}),(0,o.jsx)("span",{className:"amount",children:P(x.total_amount)})]})]})]}),(0,o.jsxs)("div",{className:"detail-section",children:[(0,o.jsx)("h3",{children:"\ucc98\ub9ac \uc774\ub825"}),(0,o.jsx)("div",{className:"status-history",children:x.status_history.map((e,s)=>(0,o.jsxs)("div",{className:"history-item",children:[(0,o.jsx)("div",{className:"history-status",children:z(e.status)}),(0,o.jsxs)("div",{className:"history-content",children:[(0,o.jsx)("div",{className:"history-note",children:e.note}),(0,o.jsxs)("div",{className:"history-meta",children:[e.admin_name," \u2022 ",R(e.created_at)]})]})]},s))})]})]})})})}),(0,o.jsx)(t.A,{isOpen:N,onClose:()=>_(!1),title:"\uc8fc\ubb38 \uc0c1\ud0dc \ubcc0\uacbd",children:(0,o.jsxs)("div",{className:"status-change-form",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"\uc0c8\ub85c\uc6b4 \uc0c1\ud0dc"}),(0,o.jsxs)("select",{value:b,onChange:e=>g(e.target.value),children:[(0,o.jsx)("option",{value:"pending",children:"\uc811\uc218\ub300\uae30"}),(0,o.jsx)("option",{value:"processing",children:"\ucc98\ub9ac\uc911"}),(0,o.jsx)("option",{value:"completed",children:"\uc644\ub8cc"}),(0,o.jsx)("option",{value:"cancelled",children:"\ucde8\uc18c"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"\ucc98\ub9ac \uba54\ubaa8"}),(0,o.jsx)("textarea",{value:y,onChange:e=>f(e.target.value),placeholder:"\uc0c1\ud0dc \ubcc0\uacbd \uc0ac\uc720\ub098 \uba54\ubaa8\ub97c \uc785\ub825\ud558\uc138\uc694",rows:3})]}),(0,o.jsxs)("div",{className:"modal-actions",children:[(0,o.jsx)(d.A,{variant:"outline",onClick:()=>_(!1),children:"\ucde8\uc18c"}),(0,o.jsx)(d.A,{variant:"primary",onClick:async()=>{if(x&&b)try{await new Promise(e=>setTimeout(e,1e3)),m(e=>e.map(e=>e.id===x.id?(0,l.A)((0,l.A)({},e),{},{status:b,updated_at:(new Date).toISOString()}):e)),_(!1),e("\uc8fc\ubb38 \uc0c1\ud0dc\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(a){s("\uc8fc\ubb38 \uc0c1\ud0dc \ubcc0\uacbd\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},children:"\ubcc0\uacbd"})]})]})})]})}},2159:(e,s,a)=>{a.d(s,{A:()=>t});var l=a(9950),n=a(7119),i=(a(2918),a(4414));const d=e=>{let{isOpen:s,onClose:a,title:d,children:t,size:r="medium",showCloseButton:c=!0,closeOnOverlayClick:o=!0,closeOnEscape:m=!0,footer:h}=e;if((0,l.useEffect)(()=>{if(!m||!s)return;const e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s,m,a]),(0,l.useEffect)(()=>(document.body.style.overflow=s?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[s]),!s)return null;const u=(0,i.jsx)("div",{className:"modal-overlay",onClick:e=>{o&&e.target===e.currentTarget&&a()},children:(0,i.jsxs)("div",{className:"modal ".concat({small:"modal-small",medium:"modal-medium",large:"modal-large",fullscreen:"modal-fullscreen"}[r]),role:"dialog","aria-modal":"true",children:[(d||c)&&(0,i.jsxs)("div",{className:"modal-header",children:[d&&(0,i.jsx)("h2",{className:"modal-title",children:d}),c&&(0,i.jsx)("button",{className:"modal-close-btn",onClick:a,"aria-label":"\ubaa8\ub2ec \ub2eb\uae30",children:"\u2715"})]}),(0,i.jsx)("div",{className:"modal-body",children:t}),h&&(0,i.jsx)("div",{className:"modal-footer",children:h})]})});return(0,n.createPortal)(u,document.body)},t=d}}]);