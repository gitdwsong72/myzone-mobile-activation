"use strict";(self.webpackChunkmyzone_frontend=self.webpackChunkmyzone_frontend||[]).push([[358],{358:(e,a,l)=>{l.r(a),l.d(a,{default:()=>o});var s=l(2555),t=l(9950),c=l(2569),i=l(4414);const n=e=>{let{data:a,type:l,title:s,height:t=300,showValues:c=!0}=e;const n=Math.max(...a.map(e=>e.value)),r=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7","#ffecd2","#fcb69f","#a8edea","#fed6e3"];return(0,i.jsxs)("div",{className:"simple-chart",children:[s&&(0,i.jsx)("h3",{className:"chart-title",children:s}),(0,i.jsxs)("div",{className:"chart-content",children:["bar"===l&&(0,i.jsx)("div",{className:"bar-chart",style:{height:t},children:(0,i.jsx)("div",{className:"chart-bars",children:a.map((e,a)=>(0,i.jsxs)("div",{className:"bar-container",children:[(0,i.jsx)("div",{className:"bar",style:{height:"".concat(e.value/n*80,"%"),backgroundColor:e.color||r[a%r.length]},children:c&&(0,i.jsx)("span",{className:"bar-value",children:e.value.toLocaleString()})}),(0,i.jsx)("span",{className:"bar-label",children:e.label})]},a))})}),"line"===l&&(()=>{const e=a.map((e,l)=>({x:l/(a.length-1)*100,y:100-e.value/n*80})),l=e.map((e,a)=>"".concat(0===a?"M":"L"," ").concat(e.x," ").concat(e.y)).join(" ");return(0,i.jsxs)("div",{className:"line-chart",style:{height:t},children:[(0,i.jsxs)("svg",{width:"100%",height:"80%",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,i.jsx)("path",{d:l,fill:"none",stroke:r[0],strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),e.map((e,a)=>(0,i.jsx)("circle",{cx:e.x,cy:e.y,r:"3",fill:r[0],vectorEffect:"non-scaling-stroke"},a))]}),(0,i.jsx)("div",{className:"line-labels",children:a.map((e,a)=>(0,i.jsx)("span",{className:"line-label",children:e.label},a))})]})})(),"pie"===l&&(()=>{const e=a.reduce((e,a)=>e+a.value,0);let l=0;return(0,i.jsxs)("div",{className:"pie-chart",style:{height:t},children:[(0,i.jsx)("div",{className:"pie-container",children:(0,i.jsx)("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:a.map((a,s)=>{a.value;const t=a.value/e*360,c=l,n=l+t,d=100+80*Math.cos((c-90)*Math.PI/180),h=100+80*Math.sin((c-90)*Math.PI/180),o=100+80*Math.cos((n-90)*Math.PI/180),v=100+80*Math.sin((n-90)*Math.PI/180),x=t>180?1:0,m=["M 100 100","L ".concat(d," ").concat(h),"A 80 80 0 ".concat(x," 1 ").concat(o," ").concat(v),"Z"].join(" ");return l+=t,(0,i.jsx)("path",{d:m,fill:a.color||r[s%r.length],stroke:"white",strokeWidth:"2"},s)})})}),(0,i.jsx)("div",{className:"pie-legend",children:a.map((a,l)=>(0,i.jsxs)("div",{className:"legend-item",children:[(0,i.jsx)("div",{className:"legend-color",style:{backgroundColor:a.color||r[l%r.length]}}),(0,i.jsx)("span",{className:"legend-label",children:a.label}),(0,i.jsxs)("span",{className:"legend-value",children:[a.value.toLocaleString()," (",(a.value/e*100).toFixed(1),"%)"]})]},l))})]})})()]})]})};var r=l(2918),d=l(5341),h=l(8073);const o=()=>{var e;(0,c.wA)();const{showError:a}=(0,h.d)(),[l,o]=(0,t.useState)(!0),[v,x]=(0,t.useState)(null),[m,j]=(0,t.useState)({startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0]}),[u,b]=(0,t.useState)("daily");(0,t.useEffect)(()=>{N()},[m,u]);const N=async()=>{o(!0);try{await new Promise(e=>setTimeout(e,1e3));x({dailyOrders:[{label:"1/10",value:15},{label:"1/11",value:23},{label:"1/12",value:18},{label:"1/13",value:31},{label:"1/14",value:27},{label:"1/15",value:42},{label:"1/16",value:38}],monthlyOrders:[{label:"10\uc6d4",value:450},{label:"11\uc6d4",value:520},{label:"12\uc6d4",value:680},{label:"1\uc6d4",value:750}],planStats:[{label:"5G \ud504\ub9ac\ubbf8\uc5c4",value:320,color:"#667eea"},{label:"5G \uc2a4\ud0e0\ub2e4\ub4dc",value:280,color:"#764ba2"},{label:"LTE \ubca0\uc774\uc9c1",value:150,color:"#f093fb"},{label:"LTE \ud50c\ub7ec\uc2a4",value:200,color:"#f5576c"}],deviceStats:[{label:"iPhone 15 Pro",value:180,color:"#4facfe"},{label:"iPhone 15",value:150,color:"#00f2fe"},{label:"Galaxy S24",value:140,color:"#43e97b"},{label:"Galaxy S24+",value:120,color:"#38f9d7"},{label:"\uae30\ud0c0",value:110,color:"#ffecd2"}],revenueStats:[{label:"1/10",value:185e5},{label:"1/11",value:256e5},{label:"1/12",value:212e5},{label:"1/13",value:348e5},{label:"1/14",value:297e5},{label:"1/15",value:452e5},{label:"1/16",value:413e5}],statusStats:[{label:"\uc811\uc218\ub300\uae30",value:45,color:"#ffc107"},{label:"\ucc98\ub9ac\uc911",value:32,color:"#17a2b8"},{label:"\uc644\ub8cc",value:180,color:"#28a745"},{label:"\ucde8\uc18c",value:8,color:"#dc3545"}]})}catch(e){a("\ud1b5\uacc4 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{o(!1)}},p=(e,a)=>{j(l=>(0,s.A)((0,s.A)({},l),{},{[e]:a}))},f=e=>{b(e)},g=e=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",notation:"compact"}).format(e),y=()=>v?v.revenueStats.reduce((e,a)=>e+a.value,0):0,S=()=>{if(!v)return 0;return("daily"===u?v.dailyOrders:v.monthlyOrders).reduce((e,a)=>e+a.value,0)};return l?(0,i.jsxs)("div",{className:"admin-statistics__loading",children:[(0,i.jsx)(d.Ay,{size:"large"}),(0,i.jsx)("p",{children:"\ud1b5\uacc4 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."})]}):(0,i.jsxs)("div",{className:"admin-statistics",children:[(0,i.jsxs)("div",{className:"admin-statistics__header",children:[(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsx)("h1",{children:"\ud1b5\uacc4 \ubc0f \ub9ac\ud3ec\ud2b8"}),(0,i.jsx)("p",{children:"\ube44\uc988\ub2c8\uc2a4 \uc131\uacfc\uc640 \ud2b8\ub80c\ub4dc\ub97c \ubd84\uc11d\ud558\uc138\uc694"})]}),(0,i.jsx)("div",{className:"header-actions",children:(0,i.jsx)(r.A,{variant:"outline",onClick:()=>{const e={period:"".concat(m.startDate," ~ ").concat(m.endDate),statistics:v,generatedAt:(new Date).toISOString()},a=JSON.stringify(e,null,2),l=new Blob([a],{type:"application/json"}),s=URL.createObjectURL(l),t=document.createElement("a");t.href=s,t.download="statistics-report-".concat(m.startDate,"-").concat(m.endDate,".json"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s)},children:"\ud83d\udcca \ub9ac\ud3ec\ud2b8 \ub0b4\ubcf4\ub0b4\uae30"})})]}),(0,i.jsx)("div",{className:"statistics-filters",children:(0,i.jsxs)("div",{className:"filter-section",children:[(0,i.jsxs)("div",{className:"date-filters",children:[(0,i.jsxs)("div",{className:"filter-group",children:[(0,i.jsx)("label",{children:"\uc2dc\uc791\uc77c"}),(0,i.jsx)("input",{type:"date",value:m.startDate,onChange:e=>p("startDate",e.target.value)})]}),(0,i.jsxs)("div",{className:"filter-group",children:[(0,i.jsx)("label",{children:"\uc885\ub8cc\uc77c"}),(0,i.jsx)("input",{type:"date",value:m.endDate,onChange:e=>p("endDate",e.target.value)})]})]}),(0,i.jsxs)("div",{className:"period-selector",children:[(0,i.jsx)("button",{className:"period-btn ".concat("daily"===u?"active":""),onClick:()=>f("daily"),children:"\uc77c\ubcc4"}),(0,i.jsx)("button",{className:"period-btn ".concat("monthly"===u?"active":""),onClick:()=>f("monthly"),children:"\uc6d4\ubcc4"})]})]})}),(0,i.jsxs)("div",{className:"key-metrics",children:[(0,i.jsxs)("div",{className:"metric-card",children:[(0,i.jsx)("div",{className:"metric-icon",children:"\ud83d\udcc8"}),(0,i.jsxs)("div",{className:"metric-content",children:[(0,i.jsx)("h3",{children:"\ucd1d \uc8fc\ubb38 \uc218"}),(0,i.jsxs)("div",{className:"metric-value",children:[S().toLocaleString(),"\uac74"]}),(0,i.jsx)("div",{className:"metric-change positive",children:"+12.5%"})]})]}),(0,i.jsxs)("div",{className:"metric-card",children:[(0,i.jsx)("div",{className:"metric-icon",children:"\ud83d\udcb0"}),(0,i.jsxs)("div",{className:"metric-content",children:[(0,i.jsx)("h3",{children:"\ucd1d \ub9e4\ucd9c"}),(0,i.jsx)("div",{className:"metric-value",children:g(y())}),(0,i.jsx)("div",{className:"metric-change positive",children:"+18.3%"})]})]}),(0,i.jsxs)("div",{className:"metric-card",children:[(0,i.jsx)("div",{className:"metric-icon",children:"\ud83d\uded2"}),(0,i.jsxs)("div",{className:"metric-content",children:[(0,i.jsx)("h3",{children:"\ud3c9\uade0 \uc8fc\ubb38 \uae08\uc561"}),(0,i.jsx)("div",{className:"metric-value",children:g((()=>{const e=y(),a=S();return a>0?e/a:0})())}),(0,i.jsx)("div",{className:"metric-change negative",children:"-2.1%"})]})]}),(0,i.jsxs)("div",{className:"metric-card",children:[(0,i.jsx)("div",{className:"metric-icon",children:"\u2705"}),(0,i.jsxs)("div",{className:"metric-content",children:[(0,i.jsx)("h3",{children:"\uc644\ub8cc\uc728"}),(0,i.jsxs)("div",{className:"metric-value",children:[v?(((null===(e=v.statusStats.find(e=>"\uc644\ub8cc"===e.label))||void 0===e?void 0:e.value)||0)/v.statusStats.reduce((e,a)=>e+a.value,0)*100).toFixed(1):0,"%"]}),(0,i.jsx)("div",{className:"metric-change positive",children:"+5.2%"})]})]})]}),(0,i.jsxs)("div",{className:"charts-grid",children:[(0,i.jsx)("div",{className:"chart-container full-width",children:(0,i.jsx)(n,{data:"daily"===u?(null===v||void 0===v?void 0:v.dailyOrders)||[]:(null===v||void 0===v?void 0:v.monthlyOrders)||[],type:"line",title:"".concat("daily"===u?"\uc77c\ubcc4":"\uc6d4\ubcc4"," \uc8fc\ubb38 \ucd94\uc774"),height:300})}),(0,i.jsx)("div",{className:"chart-container full-width",children:(0,i.jsx)(n,{data:(null===v||void 0===v?void 0:v.revenueStats.map(e=>(0,s.A)((0,s.A)({},e),{},{value:e.value/1e6})))||[],type:"bar",title:"\uc77c\ubcc4 \ub9e4\ucd9c \ucd94\uc774 (\ubc31\ub9cc\uc6d0)",height:300})}),(0,i.jsx)("div",{className:"chart-container",children:(0,i.jsx)(n,{data:(null===v||void 0===v?void 0:v.planStats)||[],type:"pie",title:"\uc694\uae08\uc81c\ubcc4 \uac00\uc785 \ud604\ud669",height:350})}),(0,i.jsx)("div",{className:"chart-container",children:(0,i.jsx)(n,{data:(null===v||void 0===v?void 0:v.deviceStats)||[],type:"bar",title:"\ub2e8\ub9d0\uae30\ubcc4 \ud310\ub9e4 \ud604\ud669",height:350})}),(0,i.jsx)("div",{className:"chart-container",children:(0,i.jsx)(n,{data:(null===v||void 0===v?void 0:v.statusStats)||[],type:"pie",title:"\uc8fc\ubb38 \uc0c1\ud0dc \ubd84\ud3ec",height:350})}),(0,i.jsx)("div",{className:"chart-container",children:(0,i.jsxs)("div",{className:"performance-table",children:[(0,i.jsx)("h3",{children:"\uc8fc\uc694 \uc131\uacfc \uc9c0\ud45c"}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\uc9c0\ud45c"}),(0,i.jsx)("th",{children:"\ud604\uc7ac \uac12"}),(0,i.jsx)("th",{children:"\uc804\uc6d4 \ub300\ube44"}),(0,i.jsx)("th",{children:"\ubaa9\ud45c"})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"\uc2e0\uaddc \uac00\uc785\uc790"}),(0,i.jsxs)("td",{children:[S().toLocaleString(),"\uba85"]}),(0,i.jsx)("td",{className:"positive",children:"+12.5%"}),(0,i.jsx)("td",{children:"800\uba85"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"\ud3c9\uade0 \ucc98\ub9ac \uc2dc\uac04"}),(0,i.jsx)("td",{children:"2.3\uc2dc\uac04"}),(0,i.jsx)("td",{className:"positive",children:"-15.2%"}),(0,i.jsx)("td",{children:"2\uc2dc\uac04"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"\uace0\uac1d \ub9cc\uc871\ub3c4"}),(0,i.jsx)("td",{children:"4.7/5.0"}),(0,i.jsx)("td",{className:"positive",children:"+3.1%"}),(0,i.jsx)("td",{children:"4.5/5.0"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"\ucde8\uc18c\uc728"}),(0,i.jsx)("td",{children:"3.2%"}),(0,i.jsx)("td",{className:"positive",children:"-1.8%"}),(0,i.jsx)("td",{children:"5%"})]})]})]})]})})]})]})}}}]);