"use strict";(self.webpackChunkmyzone_frontend=self.webpackChunkmyzone_frontend||[]).push([[363],{6363:(e,s,a)=>{a.r(s),a.d(s,{default:()=>t});var l=a(9950),i=a(5341),c=a(4414);const t=()=>{const[e,s]=(0,l.useState)(""),[a,t]=(0,l.useState)(null),[r,d]=(0,l.useState)(!1),[n,m]=(0,l.useState)(null),o=[{key:"pending",label:"\uc811\uc218\uc644\ub8cc",icon:"1"},{key:"confirmed",label:"\uc2ec\uc0ac\uc911",icon:"2"},{key:"processing",label:"\uac1c\ud1b5\ucc98\ub9ac\uc911",icon:"3"},{key:"completed",label:"\uac1c\ud1b5\uc644\ub8cc",icon:"4"}],h={pending:"\uc811\uc218\uc644\ub8cc",confirmed:"\uc2ec\uc0ac\uc911",processing:"\uac1c\ud1b5\ucc98\ub9ac\uc911",completed:"\uac1c\ud1b5\uc644\ub8cc",cancelled:"\ucde8\uc18c\ub428"},x=e=>["pending","confirmed","processing","completed"].indexOf(e);return(0,c.jsx)("div",{className:"order-status-page",children:(0,c.jsxs)("div",{className:"order-status-container",children:[(0,c.jsxs)("div",{className:"page-header",children:[(0,c.jsx)("h1",{className:"page-title",children:"\uc2e0\uccad \ud604\ud669 \uc870\ud68c"}),(0,c.jsx)("p",{className:"page-subtitle",children:"\uc2e0\uccad\ubc88\ud638\ub97c \uc785\ub825\ud558\uc5ec \uac1c\ud1b5 \uc9c4\ud589 \uc0c1\ud669\uc744 \ud655\uc778\ud558\uc138\uc694"})]}),(0,c.jsx)("div",{className:"search-section",children:(0,c.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),e.trim()){d(!0),m(null),t(null);try{const s=await fetch("/api/v1/orders/public/".concat(e.trim()));if(!s.ok){if(404===s.status)throw new Error("\ud574\ub2f9 \uc2e0\uccad\ubc88\ud638\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");throw new Error("\uc870\ud68c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}const a=await s.json();t(a)}catch(a){m(a instanceof Error?a.message:"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{d(!1)}}else m("\uc2e0\uccad\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},className:"search-form",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"orderNumber",className:"form-label",children:"\uc2e0\uccad\ubc88\ud638"}),(0,c.jsx)("input",{type:"text",id:"orderNumber",className:"form-input",placeholder:"\uc608: MZ20240101001",value:e,onChange:e=>s(e.target.value),disabled:r})]}),(0,c.jsx)("button",{type:"submit",className:"search-button",disabled:r,children:r?"\uc870\ud68c\uc911...":"\uc870\ud68c\ud558\uae30"})]})}),r&&(0,c.jsxs)("div",{className:"loading-container",children:[(0,c.jsx)(i.Ay,{}),(0,c.jsx)("p",{className:"loading-text",children:"\uc2e0\uccad \ud604\ud669\uc744 \uc870\ud68c\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4..."})]}),n&&(0,c.jsxs)("div",{className:"error-message",children:[(0,c.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,c.jsx)("h3",{className:"error-title",children:"\uc870\ud68c \uc2e4\ud328"}),(0,c.jsx)("p",{className:"error-text",children:n}),(0,c.jsx)("button",{onClick:()=>m(null),className:"retry-button",children:"\ub2e4\uc2dc \uc2dc\ub3c4"})]}),a&&(0,c.jsxs)("div",{className:"order-result",children:[(0,c.jsxs)("div",{className:"order-header",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("h2",{className:"order-number",children:["\uc2e0\uccad\ubc88\ud638: ",a.order_number]}),(0,c.jsxs)("p",{className:"order-date",children:["\uc2e0\uccad\uc77c\uc2dc: ",(j=a.created_at,new Date(j).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))]})]}),(0,c.jsx)("span",{className:"status-badge status-".concat(a.status),children:h[a.status]||a.status})]}),(0,c.jsxs)("div",{className:"progress-section",children:[(0,c.jsx)("h3",{className:"progress-title",children:"\uc9c4\ud589 \uc0c1\ud669"}),(0,c.jsxs)("div",{className:"progress-steps",children:[(0,c.jsx)("div",{className:"progress-line",children:(0,c.jsx)("div",{className:"progress-line-active",style:{width:"".concat((e=>{const s=x(e);return-1===s?0:(s+1)/o.length*100})(a.status),"%")}})}),o.map((e,s)=>{const l=x(a.status),i=s<l,t=s===l;return(0,c.jsxs)("div",{className:"progress-step",children:[(0,c.jsx)("div",{className:"step-circle ".concat(i?"completed":t?"active":""),children:i?"\u2713":e.icon}),(0,c.jsx)("span",{className:"step-label ".concat(i?"completed":t?"active":""),children:e.label})]},e.key)})]})]}),(0,c.jsxs)("div",{className:"order-details",children:[(0,c.jsxs)("div",{className:"detail-card",children:[(0,c.jsx)("h4",{className:"detail-title",children:"\ud83d\udc64 \uc2e0\uccad\uc790 \uc815\ubcf4"}),(0,c.jsxs)("div",{className:"detail-item",children:[(0,c.jsx)("span",{className:"detail-label",children:"\uc774\ub984"}),(0,c.jsx)("span",{className:"detail-value",children:a.user_name})]})]}),(0,c.jsxs)("div",{className:"detail-card",children:[(0,c.jsx)("h4",{className:"detail-title",children:"\ud83d\udcf1 \uc120\ud0dd \uc0c1\ud488"}),(0,c.jsxs)("div",{className:"detail-item",children:[(0,c.jsx)("span",{className:"detail-label",children:"\uc694\uae08\uc81c"}),(0,c.jsx)("span",{className:"detail-value",children:a.plan_name})]}),a.device_name&&(0,c.jsxs)("div",{className:"detail-item",children:[(0,c.jsx)("span",{className:"detail-label",children:"\ub2e8\ub9d0\uae30"}),(0,c.jsx)("span",{className:"detail-value",children:a.device_name})]}),a.number&&(0,c.jsxs)("div",{className:"detail-item",children:[(0,c.jsx)("span",{className:"detail-label",children:"\uc804\ud654\ubc88\ud638"}),(0,c.jsx)("span",{className:"detail-value",children:a.number})]})]}),(0,c.jsxs)("div",{className:"detail-card",children:[(0,c.jsx)("h4",{className:"detail-title",children:"\ud83d\udcb0 \uacb0\uc81c \uc815\ubcf4"}),(0,c.jsxs)("div",{className:"detail-item",children:[(0,c.jsx)("span",{className:"detail-label",children:"\ucd1d \uacb0\uc81c\uae08\uc561"}),(0,c.jsxs)("span",{className:"detail-value amount-highlight",children:[(u=a.total_amount,new Intl.NumberFormat("ko-KR").format(u)),"\uc6d0"]})]})]}),(0,c.jsxs)("div",{className:"detail-card",children:[(0,c.jsx)("h4",{className:"detail-title",children:"\ud83d\udccb \ucc98\ub9ac \uc0c1\ud0dc"}),(0,c.jsxs)("div",{className:"detail-item",children:[(0,c.jsx)("span",{className:"detail-label",children:"\ud604\uc7ac \uc0c1\ud0dc"}),(0,c.jsx)("span",{className:"detail-value",children:h[a.status]||a.status})]}),"completed"===a.status&&(0,c.jsxs)("div",{className:"detail-item",children:[(0,c.jsx)("span",{className:"detail-label",children:"\uac1c\ud1b5 \uc644\ub8cc"}),(0,c.jsx)("span",{className:"detail-value",style:{color:"#28a745"},children:"\uc11c\ube44\uc2a4 \uc774\uc6a9 \uac00\ub2a5"})]}),"processing"===a.status&&(0,c.jsxs)("div",{className:"detail-item",children:[(0,c.jsx)("span",{className:"detail-label",children:"\uc608\uc0c1 \uc644\ub8cc"}),(0,c.jsx)("span",{className:"detail-value",children:"1-2 \uc601\uc5c5\uc77c"})]})]})]}),"completed"===a.status&&(0,c.jsx)("div",{style:{marginTop:"2rem",padding:"1rem",background:"#d4edda",borderRadius:"8px",textAlign:"center"},children:(0,c.jsx)("p",{style:{color:"#155724",fontWeight:"600",margin:0},children:"\ud83c\udf89 \uac1c\ud1b5\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4! \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud574\ubcf4\uc138\uc694."})})]})]})});var u,j}}}]);