[build]
builder = "dockerfile"
dockerfilePath = "backend/Dockerfile.demo"

[deploy]
startCommand = "uvicorn app.main:app --host 0.0.0.0 --port $PORT"
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

[[services]]
name = "myzone-backend"
source = "backend"

[services.variables]
DATABASE_URL = "sqlite:///./demo.db"
SECRET_KEY = "demo-secret-key-for-railway"
ENVIRONMENT = "demo"
CORS_ORIGINS = "https://gitdwsong72.github.io"